// ----------------------------------------------------------------------------------------------
// <auto-generated>
// This file was autogenerated by QuantumBindingGenerator.
// Do not edit this file manually, because you will lose all your changes after next generation.
// </auto-generated>
// ----------------------------------------------------------------------------------------------

using System.Runtime.InteropServices;
using QuantumBinding.Utils;
using AdamantiumVulkan.Core.Interop;

namespace AdamantiumVulkan.Core;

public unsafe partial class RayTracingPipelineCreateInfoKHR : QBDisposableObject
{
    private NativeStruct<AdamantiumVulkan.Core.Interop.VkPipelineShaderStageCreateInfo> _pStages;

    private NativeStruct<AdamantiumVulkan.Core.Interop.VkRayTracingShaderGroupCreateInfoKHR> _pGroups;

    private NativeStruct<AdamantiumVulkan.Core.Interop.VkPipelineLibraryCreateInfoKHR> _pLibraryInfo;

    private NativeStruct<AdamantiumVulkan.Core.Interop.VkRayTracingPipelineInterfaceCreateInfoKHR> _pLibraryInterface;

    private NativeStruct<AdamantiumVulkan.Core.Interop.VkPipelineDynamicStateCreateInfo> _pDynamicState;

    public RayTracingPipelineCreateInfoKHR()
    {
    }

    public RayTracingPipelineCreateInfoKHR(AdamantiumVulkan.Core.Interop.VkRayTracingPipelineCreateInfoKHR _internal)
    {
        SType = _internal.sType;
        PNext = _internal.pNext;
        Flags = _internal.flags;
        StageCount = _internal.stageCount;
        PStages = new PipelineShaderStageCreateInfo(*_internal.pStages);
        NativeUtils.Free(_internal.pStages);
        GroupCount = _internal.groupCount;
        PGroups = new RayTracingShaderGroupCreateInfoKHR(*_internal.pGroups);
        NativeUtils.Free(_internal.pGroups);
        MaxPipelineRayRecursionDepth = _internal.maxPipelineRayRecursionDepth;
        PLibraryInfo = new PipelineLibraryCreateInfoKHR(*_internal.pLibraryInfo);
        NativeUtils.Free(_internal.pLibraryInfo);
        PLibraryInterface = new RayTracingPipelineInterfaceCreateInfoKHR(*_internal.pLibraryInterface);
        NativeUtils.Free(_internal.pLibraryInterface);
        PDynamicState = new PipelineDynamicStateCreateInfo(*_internal.pDynamicState);
        NativeUtils.Free(_internal.pDynamicState);
        Layout = new PipelineLayout(_internal.layout);
        BasePipelineHandle = new Pipeline(_internal.basePipelineHandle);
        BasePipelineIndex = _internal.basePipelineIndex;
    }

    public StructureType SType { get; set; }
    public void* PNext { get; set; }
    public VkPipelineCreateFlags Flags { get; set; }
    public uint StageCount { get; set; }
    public PipelineShaderStageCreateInfo PStages { get; set; }
    public uint GroupCount { get; set; }
    public RayTracingShaderGroupCreateInfoKHR PGroups { get; set; }
    public uint MaxPipelineRayRecursionDepth { get; set; }
    public PipelineLibraryCreateInfoKHR PLibraryInfo { get; set; }
    public RayTracingPipelineInterfaceCreateInfoKHR PLibraryInterface { get; set; }
    public PipelineDynamicStateCreateInfo PDynamicState { get; set; }
    public PipelineLayout Layout { get; set; }
    public Pipeline BasePipelineHandle { get; set; }
    public int BasePipelineIndex { get; set; }

    public AdamantiumVulkan.Core.Interop.VkRayTracingPipelineCreateInfoKHR ToNative()
    {
        var _internal = new AdamantiumVulkan.Core.Interop.VkRayTracingPipelineCreateInfoKHR();
        _internal.sType = SType;
        _internal.pNext = PNext;
        _internal.flags = Flags;
        _internal.stageCount = StageCount;
        _pStages.Dispose();
        if (PStages != null)
        {
            var struct0 = PStages.ToNative();
            _pStages = new NativeStruct<AdamantiumVulkan.Core.Interop.VkPipelineShaderStageCreateInfo>(struct0);
            _internal.pStages = _pStages.Handle;
        }
        _internal.groupCount = GroupCount;
        _pGroups.Dispose();
        if (PGroups != null)
        {
            var struct1 = PGroups.ToNative();
            _pGroups = new NativeStruct<AdamantiumVulkan.Core.Interop.VkRayTracingShaderGroupCreateInfoKHR>(struct1);
            _internal.pGroups = _pGroups.Handle;
        }
        _internal.maxPipelineRayRecursionDepth = MaxPipelineRayRecursionDepth;
        _pLibraryInfo.Dispose();
        if (PLibraryInfo != null)
        {
            var struct2 = PLibraryInfo.ToNative();
            _pLibraryInfo = new NativeStruct<AdamantiumVulkan.Core.Interop.VkPipelineLibraryCreateInfoKHR>(struct2);
            _internal.pLibraryInfo = _pLibraryInfo.Handle;
        }
        _pLibraryInterface.Dispose();
        if (PLibraryInterface != null)
        {
            var struct3 = PLibraryInterface.ToNative();
            _pLibraryInterface = new NativeStruct<AdamantiumVulkan.Core.Interop.VkRayTracingPipelineInterfaceCreateInfoKHR>(struct3);
            _internal.pLibraryInterface = _pLibraryInterface.Handle;
        }
        _pDynamicState.Dispose();
        if (PDynamicState != null)
        {
            var struct4 = PDynamicState.ToNative();
            _pDynamicState = new NativeStruct<AdamantiumVulkan.Core.Interop.VkPipelineDynamicStateCreateInfo>(struct4);
            _internal.pDynamicState = _pDynamicState.Handle;
        }
        _internal.layout = Layout;
        _internal.basePipelineHandle = BasePipelineHandle;
        _internal.basePipelineIndex = BasePipelineIndex;
        return _internal;
    }

    protected override void UnmanagedDisposeOverride()
    {
        _pStages.Dispose();
        _pGroups.Dispose();
        _pLibraryInfo.Dispose();
        _pLibraryInterface.Dispose();
        _pDynamicState.Dispose();
    }


    public static implicit operator RayTracingPipelineCreateInfoKHR(AdamantiumVulkan.Core.Interop.VkRayTracingPipelineCreateInfoKHR r)
    {
        return new RayTracingPipelineCreateInfoKHR(r);
    }

}



